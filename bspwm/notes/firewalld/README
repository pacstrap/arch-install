#!/bin/bash

################################################################################
# install firewalld packages
################################################################################

sudo pacman -S ebtables firewalld ipset

################################################################################
# enable firewalld service
################################################################################

sudo systemctl enable --now firewalld.service

################################################################################
# check firewalld status
################################################################################

systemctl status firewalld

################################################################################
# list zones available (default zone: public)
################################################################################

sudo firewall-cmd --get-zones
# block dmz drop external home internal libvirt nm-shared public trusted work

################################################################################
# list services available
################################################################################

sudo firewall-cmd --get-services

################################################################################
# list services in zone
################################################################################

sudo firewall-cmd --list-service

################################################################################
# change zone
################################################################################

sudo firewall-cmd --set-default-zone=<zone>

################################################################################
# add service to zone
################################################################################

sudo firewall-cmd --add-service <service> --permanent

################################################################################
# remove service from zone
################################################################################

sudo firewall-cmd --remove-service <service> --permanent

################################################################################
# launch firewalld gui
################################################################################

sudo firewall-config

################################################################################
# services
################################################################################

dhcpv6-client
mdns
samba-client
ssh

################################################################################
# ports
################################################################################

1025-65535 tcp
1025-65535 udp

################################################################################
# make runtime settings permanent
################################################################################

sudo firewall-cmd --runtime-to-permanent
